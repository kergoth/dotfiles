link . ~/.config/git

touch config.local config.$HOSTNAME
git config -f config.local --replace-all include.path "config.$HOSTNAME" "config\.os\."
if [ -e /opt/homebrew/etc/openssl/cert.pem ]; then
    git config -f config.$HOSTNAME --replace-all http.sslCAInfo /opt/homebrew/etc/openssl/cert.pem
elif [ -e /usr/local/etc/openssl/cert.pem ]; then
    git config -f config.$HOSTNAME --replace-all http.sslCAInfo /usr/local/etc/openssl/cert.pem
else
    git config -f config.$HOSTNAME --unset-all http.sslCAInfo
fi

newest_version () {
    for ver; do
        printf "%s\n" "$ver"
    done | sort -t. -n | tail -n 1
}

git_version="$(git --version | cut -d" " -f3)"
if [ "$(newest_version 1.8.4 "$git_version")" = 1.8.4 ]; then
    git config -f config.$HOSTNAME --replace-all alias.purr "pull --rebase"
else
    git config -f config.$HOSTNAME --unset-all alias.purr
fi

# vim: set ft=sh sts=4 sw=4 et :
