asciinema-rec () {
    local ret rows cols

    stty -a | sed -n '1s/.*\; \([0-9]*\) rows\; \([0-9]*\) columns\;/\1 \2/p' | read -r rows cols
    stty rows 24 columns 80
    asciinema rec "$@"
    stty rows $rows columns $cols
    ret=$?
    return $ret
}
# vim: set ft=zsh :
