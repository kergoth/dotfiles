if [ -n "$BASH" ]; then
    case $TERM in
    xterm*|rxvt*|gnome-terminal)
        # Automatically check and adjust the window size after executing a command.
        # Helpful when resizing your terminal.
        shopt -s checkwinsize
        ;;
    esac

    slowpath=""
    for path in $(echo $PATH|sed -e's,:, ,g'); do
        if [ -x "$path" ]; then
            if [ "$(stat -f -c "%T" $path)" = "nfs" ]; then
                slowpath=1
            fi
        fi
    done
    if [ -z "$slowpath" ]; then
        # If a hashed item from the path no longer exists, search the PATH again.
        # This is helpful, say, if you remove the /usr/local/bin/foo, and want it to
        # immediately fall back to /usr/bin/foo, rather than erroring.
        shopt -s checkhash
    fi

    # Don't complete using the PATH when hitting the completion character on an
    # empty line (seeing a list of every binary in the system isn't exactly
    # useful).
    shopt -s no_empty_cmd_completion

    # Use programmable completion
    shopt -s progcomp

    # Attempt to save all lines of a multiple-line command in the same history
    # entry, allowing easier re-editing of multi-line commands.
    shopt -s cmdhist

    # Patterns which match no files return null entry rather than themselves
    shopt -s nullglob
fi
