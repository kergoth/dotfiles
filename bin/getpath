#!/usr/bin/env python

wowacepath = '/wow2/ace/mirror/trunk'

def error(str):
    sys.__stderr__.write(str+'\n')

import kergsvk, sys, os
for n in range(1,len(sys.argv)):
    arg = sys.argv[n]
    topath = os.path.abspath(arg)
    try:
        srcpath = kergsvk.getlastpath(topath, ['Copied From', 'Merged From'])
    except kergsvk.SVKError:
        continue

    if not srcpath:
        # error("Error, unable to find source path of %s." % topath)
        srcpath = wowacepath + '/%s' % os.path.basename(topath)

    srcpath = srcpath.replace('//', '/wow2/')
    srcpath = srcpath.replace('/mirror/wowace', '/ace/mirror')
    print("%s %s" % (topath, srcpath))
