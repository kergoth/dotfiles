cask_args appdir: "~/Applications"

# apps
cask "keepingyouawake"
cask "keka"
cask "kitty"
cask "maccy"
cask "obsidian"
{{- if lt .macos_major_version 26 }}
{{/* Skip on Tahoe */}}
cask "raycast"
cask "rectangle"
{{- end }}
cask "syncthing-app"
cask "zed"

{{ if or (not .use_nix) (eq (includeTemplate "find-tool" (dict "root" . "tool" "fclones")) "") -}}
brew "fclones"
{{- end }}

{{ if .containers -}}
cask "swiftbar"
{{   if and .coding (not .ephemeral) (not .headless) -}}
cask "devpod"
{{-   end }}
{{- end }}

# LLMs
cask "chatgpt"
cask "claude-code"

{{ if not .work -}}

cask "transmission-remote-gui"

{{-   if lt .macos_major_version 26 }}
{{/* Skip on Tahoe */}}
cask "jordanbaird-ice"
{{-   end }}

# quicklook extensions (the ql extension is the only part I care about)
# there are largely for security reasons, so are excluded from work machines
cask "apparency"
cask "suspicious-package"

{{   if .ebook_library -}}
cask "calibre"
{{-   end }}

{{   if .gaming -}}
cask "steam"
{{-   end }}

{{   if .gaming_device_library -}}
# ScummVM is needed to determine scummvm ids for deployment to gaming
# devices, such as the Steam Deck.
cask "scummvm-app"
{{-   end }}

{{   if .music_library -}}
cask "musicbrainz-picard"
{{-   end }}

{{   if .retro_computing -}}
cask "86box"
{{-   end }}

{{   if .video -}}
cask "vlc"
{{-   end }}

{{   if not .ephemeral -}}
# Commercial Apps I own personally
cask "daisydisk"
cask "forklift"
cask "omnioutliner"
cask "popclip"

# Not at all related to work
cask "discord"

# I don't use work machines at night, so don't use Night Shift
cask "shifty"

# I don't want personal content on work machines
cask "reader"

# potential license concerns for commercial use
# note: betterzip's extension requires macOS 10.9 or later
cask "betterzip"

# No need for a screen saver in a VM or container
cask "brooklyn"
{{-     if lt .macos_major_version 14 }}
# Install on pre-Sonoma macOS
cask "aerial"
{{-     end }}
{{-   end }}

{{- else }}

{{/* work systems */}}
{{   if not .use_nix -}}
brew "git-crypt"
{{-   end }}

{{   if not .music -}}
cask "notunes"
{{-   end }}
{{- end }}

